<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BÃ¼yÃ¼lÃ¼ Sepet - YÄ±lbaÅŸÄ± AlÄ±ÅŸveriÅŸ MaÄŸazasÄ±</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Kar Taneleri Animasyonu -->
    <div class="snowflakes" aria-hidden="true">
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
    </div>

    <!-- Navigasyon -->
    <header>
        <div class="navbar">
            <div class="logo">
                <h1><a href="/" style="text-decoration:none; color:inherit;">ğŸ BÃ¼yÃ¼lÃ¼ Sepet âœ¨</a></h1>
            </div>
            <div class="search-bar-container">
                <form action="/urunler" method="GET" class="search-form" id="searchForm">
                    <input type="text" name="search" placeholder="ÃœrÃ¼n ara..." class="search-input" id="searchInput" autocomplete="off">
                    <button type="submit" class="search-button">ğŸ”</button>
                    <div class="search-suggestions" id="searchSuggestions"></div>
                </form>
            </div>
            <button class="menu-toggle" onclick="toggleMenu()">â˜°</button>
            <div class="nav-links" id="navMenu">
                <a href="/" class="active">Ana Sayfa</a>
                <a href="/urunler">ÃœrÃ¼nler</a>
                <a href="/urunler?kategori=cocuk" class="kids-link">ğŸˆ Ã‡ocuklar Ä°Ã§in</a>
                <a href="/hakkimizda">HakkÄ±mÄ±zda</a>
                <a href="/iletisim">Ä°letiÅŸim</a>
                {% if current_user.is_authenticated %}
                    <a href="/sepet" class="cart-fab">ğŸ›’ Sepet</a>
                    <a href="/favoriler">â¤ï¸ Favoriler</a>
                    <a href="/support">ğŸ’¬ Destek</a>
                    <a href="/game" class="forest-link">ğŸŒ² BÃ¼yÃ¼lÃ¼ Orman</a>
                    <a href="/profile">ğŸ‘¤ {{ current_user.name.split()[0][0]}}.{{ current_user.name.split()[1][0] if current_user.name.split()|length > 1 else 'U' }}</a>
                    <a href="/logout">ğŸšª Ã‡Ä±kÄ±ÅŸ</a>
                {% else %}
                    <a href="/sepet">ğŸ›’ Sepet</a>
                    <a href="/login">ğŸ” GiriÅŸ</a>
                    <a href="/register">âœ¨ KayÄ±t Ol</a>
                {% endif %}
            </div>
        </div>
    </header>

    <script>
        function toggleMenu() {
            const menu = document.getElementById('navMenu');
            menu.classList.toggle('active');
        }

        // MenÃ¼ dÄ±ÅŸÄ±na tÄ±klandÄ±ÄŸÄ±nda kapat
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('navMenu');
            const toggle = document.querySelector('.menu-toggle');
            if (!menu.contains(event.target) && !toggle.contains(event.target)) {
                menu.classList.remove('active');
            }
        });

        // Search autocomplete system
        const products = [
            {id: 1, name: 'Sihirli Kar KÃ¼resi', category: 'Dekorasyon', icon: 'ğŸ”®'},
            {id: 2, name: 'Peri IÅŸÄ±ÄŸÄ± LambasÄ±', category: 'AydÄ±nlatma', icon: 'ğŸ’¡'},
            {id: 3, name: 'Elfler Ä°Ã§in El YapÄ±mÄ± AtkÄ±', category: 'Giyim', icon: 'ğŸ§£'},
            {id: 4, name: 'Ã‡am KozalaÄŸÄ± SÃ¼s Seti', category: 'Dekorasyon', icon: 'ğŸŒ²'},
            {id: 5, name: 'Geyik PeluÅŸ Oyuncak', category: 'Ã‡ocuk', icon: 'ğŸ¦Œ'},
            {id: 6, name: 'YÄ±ldÄ±z Tozlu Mum Seti', category: 'Dekorasyon', icon: 'ğŸ•¯ï¸'},
            {id: 7, name: 'BÃ¼yÃ¼lÃ¼ Sepet Ã‡ayÄ±', category: 'Yiyecek', icon: 'â˜•'},
            {id: 8, name: 'Sincap PeluÅŸ Ailesi', category: 'Ã‡ocuk', icon: 'ğŸ¿ï¸'},
            {id: 9, name: 'AhÅŸap KulÃ¼be MÃ¼zik Kutusu', category: 'Dekorasyon', icon: 'ğŸ '},
            {id: 10, name: 'Kar Tanesi KÃ¼pe Seti', category: 'Aksesuar', icon: 'ğŸ’'},
            {id: 11, name: 'Orman Ninnileri KitabÄ±', category: 'Ã‡ocuk', icon: 'ğŸ“–'},
            {id: 12, name: 'BÃ¼yÃ¼lÃ¼ Teraryum', category: 'Bitki', icon: 'ğŸŒ¿'},
            {id: 13, name: 'Kristal YÄ±ldÄ±z Kolye', category: 'Aksesuar', icon: 'â­'},
            {id: 14, name: 'Sihirli Mantar Lamba', category: 'AydÄ±nlatma', icon: 'ğŸ„'},
            {id: 15, name: 'Orman Eldiveni Seti', category: 'Giyim', icon: 'ğŸ§¤'},
            {id: 16, name: 'Noel Baba KapÄ± SÃ¼sÃ¼', category: 'Dekorasyon', icon: 'ğŸ…'},
            {id: 17, name: 'BÃ¼yÃ¼lÃ¼ Ã‡ikolata Kutusu', category: 'Yiyecek', icon: 'ğŸ«'},
            {id: 18, name: 'Kardan Adam PeluÅŸ', category: 'Ã‡ocuk', icon: 'â›„'},
            {id: 19, name: 'YÄ±lbaÅŸÄ± AÄŸacÄ± Topper YÄ±ldÄ±z', category: 'Dekorasyon', icon: 'ğŸŒŸ'},
            {id: 20, name: 'Peri KanatlÄ± YastÄ±k', category: 'Aksesuar', icon: 'ğŸ¦‹'},
            {id: 21, name: 'Elf ÅapkasÄ±', category: 'Giyim', icon: 'ğŸ©'},
            {id: 22, name: 'Orman Hikayeleri Seti', category: 'Ã‡ocuk', icon: 'ğŸ“š'},
            {id: 23, name: 'Mini Ã‡am AÄŸacÄ±', category: 'Bitki', icon: 'ğŸŒ²'},
            {id: 24, name: 'IÅŸÄ±klÄ± Geyik FigÃ¼rÃ¼', category: 'Dekorasyon', icon: 'ğŸ¦Œ'}
        ];

        const searchInput = document.getElementById('searchInput');
        const searchSuggestions = document.getElementById('searchSuggestions');

        if (searchInput && searchSuggestions) {
            searchInput.addEventListener('input', function() {
                const query = this.value.trim().toLowerCase();
                
                if (query.length === 0) {
                    searchSuggestions.classList.remove('active');
                    return;
                }

                const results = products.filter(p => 
                    p.name.toLowerCase().includes(query) || 
                    p.category.toLowerCase().includes(query)
                ).slice(0, 8);

                if (results.length > 0) {
                    searchSuggestions.innerHTML = results.map(item => `
                        <div class="suggestion-item" onclick="selectSuggestion(${item.id})">
                            <span class="suggestion-icon">${item.icon}</span>
                            <span class="suggestion-text">${item.name}</span>
                            <span class="suggestion-category">${item.category}</span>
                        </div>
                    `).join('');
                    searchSuggestions.classList.add('active');
                } else {
                    searchSuggestions.classList.remove('active');
                }
            });

            // Close suggestions when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchSuggestions.contains(e.target)) {
                    searchSuggestions.classList.remove('active');
                }
            });
        }

        function selectSuggestion(productId) {
            searchSuggestions.classList.remove('active');
            window.location.href = '/urun/' + productId;
        }
    </script>

    <!-- Hero BÃ¶lÃ¼mÃ¼ -->
    <section class="hero">
        <div class="container">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">{{ message }}</div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            <div class="hero-content">
                <h2 class="glow">BÃ¼yÃ¼lÃ¼ Sepeta HoÅŸ Geldiniz! ğŸ„</h2>
                <p class="hero-subtitle">
                    Kar tanelerinin dans ettiÄŸi, peri Ä±ÅŸÄ±klarÄ±nÄ±n parÄ±ldadÄ±ÄŸÄ± sihirli dÃ¼nyamÄ±za adÄ±m atÄ±n.
                    <br>YÄ±lbaÅŸÄ±nÄ±n en Ã¶zel hediyelerini keÅŸfedin!
                </p>
                <a href="/urunler" class="cta-button">AlÄ±ÅŸveriÅŸe BaÅŸla ğŸ</a>
            </div>
            <div class="hero-decoration">
                <span class="tree">ğŸŒ²</span>
                <span class="star">â­</span>
                <span class="tree">ğŸŒ²</span>
                <span class="star">âœ¨</span>
                <span class="tree">ğŸŒ²</span>
            </div>
        </div>
    </section>

    <!-- Ã–zellikler BÃ¶lÃ¼mÃ¼ -->
    <section class="features">
        <div class="container">
            <h2 class="section-title">ğŸ Neden BÃ¼yÃ¼lÃ¼ Sepet? ğŸ</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">ğŸŒŸ</div>
                    <h3>Ã–zel TasarÄ±mlar</h3>
                    <p>Her Ã¼rÃ¼n bÃ¼yÃ¼lÃ¼ ormanÄ±n sihriyle Ã¶zel olarak tasarlanmÄ±ÅŸtÄ±r</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ…</div>
                    <h3>HÄ±zlÄ± Teslimat</h3>
                    <p>Noel Baba'nÄ±n geyikleri ile sÃ¼per hÄ±zlÄ± teslimat garantisi</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ”®</div>
                    <h3>Sihirli Kalite</h3>
                    <p>Peri tozu ve orman bÃ¼yÃ¼sÃ¼ ile gÃ¼Ã§lendirilmiÅŸ Ã¼rÃ¼nler</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ’</div>
                    <h3>Hediye Paketi</h3>
                    <p>Her Ã¼rÃ¼n Ã¶zel yÄ±lbaÅŸÄ± hediye paketinde gelir</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Ã–ne Ã‡Ä±kan ÃœrÃ¼nler -->
    <section class="featured-products">
        <div class="container">
            <h2 class="section-title">â­ Ã–ne Ã‡Ä±kan ÃœrÃ¼nler â­</h2>
            <div class="products-preview">
                <div class="product-preview-card">
                    <div class="product-icon">ğŸ”®</div>
                    <h3>Sihirli Kar KÃ¼resi</h3>
                    <p>BÃ¼yÃ¼lÃ¼ ormanÄ±n manzarasÄ±</p>
                    <div class="price">299,99 â‚º</div>
                    <a href="/urun/1" class="preview-button">Ä°ncele</a>
                </div>
                <div class="product-preview-card">
                    <div class="product-icon">ğŸ’¡</div>
                    <h3>Peri IÅŸÄ±ÄŸÄ± LambasÄ±</h3>
                    <p>Sihirli parÄ±ltÄ± yayan lamba</p>
                    <div class="price">189,99 â‚º</div>
                    <a href="/urun/2" class="preview-button">Ä°ncele</a>
                </div>
                <div class="product-preview-card">
                    <div class="product-icon">ğŸ¦Œ</div>
                    <h3>Geyik PeluÅŸ Oyuncak</h3>
                    <p>Rudolf'un kÃ¼Ã§Ã¼k kardeÅŸi</p>
                    <div class="price">249,99 â‚º</div>
                    <a href="/urun/5" class="preview-button">Ä°ncele</a>
                </div>
                <div class="product-preview-card">
                    <div class="product-icon">ğŸ </div>
                    <h3>AhÅŸap KulÃ¼be MÃ¼zik Kutusu</h3>
                    <p>YÄ±lbaÅŸÄ± melodileri Ã§alan kutu</p>
                    <div class="price">349,99 â‚º</div>
                    <a href="/urun/9" class="preview-button">Ä°ncele</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Hikaye BÃ¶lÃ¼mÃ¼ -->
    <section class="story-section">
        <div class="container">
            <div class="story-content">
                <h2 class="section-title">ğŸ BÃ¼yÃ¼lÃ¼ Sepet Hikayesi ğŸŒ²</h2>
                <p class="story-text">
                    Ã‡ok uzun zaman Ã¶nce, kuzey kutbunun derinliklerinde, insanlarÄ±n henÃ¼z keÅŸfetmediÄŸi
                    bÃ¼yÃ¼lÃ¼ bir orman vardÄ±. Bu orman, yÄ±lÄ±n her gÃ¼nÃ¼ kar taneleriyle kaplÄ±, peri Ä±ÅŸÄ±klarÄ±yla
                    aydÄ±nlatÄ±lmÄ±ÅŸ ve orman sakinlerinin neÅŸesiyle dolu bir yerdi.
                </p>
                <p class="story-text">
                    Elfler, periler, konuÅŸan sincaplar ve nazik geyikler bu ormanda mutluluk iÃ§inde yaÅŸardÄ±.
                    Her yÄ±l, yÄ±lbaÅŸÄ± yaklaÅŸtÄ±ÄŸÄ±nda, dÃ¼nya Ã§ocuklarÄ±na Ã¶zel hediyeler hazÄ±rlamak iÃ§in bir araya gelirlerdi.
                    Åimdi, bu sihirli dÃ¼kkan sayesinde, bÃ¼yÃ¼lÃ¼ ormanÄ±n en Ã¶zel Ã¼rÃ¼nlerini sizlerle buluÅŸturuyoruz!
                </p>
                <p class="story-text">
                    Her Ã¼rÃ¼n bir hikaye taÅŸÄ±yor, her hediye bir sihir barÄ±ndÄ±rÄ±yor.
                    BÃ¼yÃ¼lÃ¼ ormandan gelen bu Ã¶zel koleksiyonla, sevdiklerinize unutulmaz bir yÄ±lbaÅŸÄ± hediyesi sunabilirsiniz.
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>ğŸ BÃ¼yÃ¼lÃ¼ Sepet</h3>
                <p>YÄ±lbaÅŸÄ±nÄ±n sihirli dÃ¼nyasÄ±na hoÅŸ geldiniz! BÃ¼yÃ¼lÃ¼ ormanÄ±n en Ã¶zel Ã¼rÃ¼nleriyle sizlere hizmet veriyoruz.</p>
                <p>ğŸ“ BÃ¼yÃ¼lÃ¼ Sepet, Kuzey Kutbu, Peri Vadisi No: 25</p>
            </div>
            <div class="footer-section">
                <h3>HÄ±zlÄ± Linkler</h3>
                <ul>
                    <li><a href="/">Ana Sayfa</a></li>
                    <li><a href="/urunler">ÃœrÃ¼nler</a></li>
                    <li><a href="/hakkimizda">HakkÄ±mÄ±zda</a></li>
                    <li><a href="/iletisim">Ä°letiÅŸim</a></li>
                    <li><a href="/sepet">Sepetim</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Kategoriler</h3>
                <ul>
                    <li><a href="/urunler?kategori=Dekorasyon">Dekorasyon</a></li>
                    <li><a href="/urunler?kategori=Oyuncak">Oyuncaklar</a></li>
                    <li><a href="/urunler?kategori=AydÄ±nlatma">AydÄ±nlatma</a></li>
                    <li><a href="/urunler?kategori=Giyim">Giyim</a></li>
                    <li><a href="/urunler?kategori=Aksesuar">Aksesuarlar</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Ä°letiÅŸim</h3>
                <p>ğŸ“§ info@buyuluorman.com</p>
                <p>ğŸ“± +90 (555) 123 45 67</p>
                <p>ğŸ• Pazartesi - Pazar: 00:00 - 24:00</p>
                <p style="margin-top: 15px;">âœ¨ BÃ¼yÃ¼lÃ¼ ormanÄ±mÄ±z 7/24 aÃ§Ä±k!</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 BÃ¼yÃ¼lÃ¼ Sepet - YÄ±lbaÅŸÄ± AlÄ±ÅŸveriÅŸ MaÄŸazasÄ±. TÃ¼m haklarÄ± saklÄ±dÄ±r. âœ¨ğŸ„</p>
            <p style="margin-top: 10px; opacity: 0.7; font-size: 0.9em; cursor: pointer; user-select: none;" 
               id="secret-trigger" 
               onclick="secretClick()" 
               title="Sihirli bir ÅŸey keÅŸfet...">
                BÃ¼yÃ¼lÃ¼ Orman v2.0 ğŸŒ²
            </p>
            <div id="secret-game-link" style="display: none; margin-top: 15px;">
                <a href="/game" style="
                    display: inline-block;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    padding: 12px 30px;
                    border-radius: 25px;
                    text-decoration: none;
                    font-weight: bold;
                    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
                    animation: pulse 2s infinite;
                ">
                    ğŸ® Gizli Oyun Merkezi ğŸ®
                </a>
            </div>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div id="cartToast" class="cart-toast">
        <div class="toast-content">
            <div class="toast-icon">âœ…</div>
            <div class="toast-info">
                <div class="toast-title">Sepete Eklendi!</div>
                <div class="toast-product-name" id="toastProductName"></div>
                <div class="toast-product-price" id="toastProductPrice"></div>
            </div>
        </div>
    </div>

    <script>
        // Secret Easter Egg
        let secretClicks = 0;
        function secretClick() {
            secretClicks++;
            const trigger = document.getElementById('secret-trigger');
            const gameLink = document.getElementById('secret-game-link');
            
            if (secretClicks === 1) {
                trigger.textContent = 'BÃ¼yÃ¼lÃ¼ Orman v2.0 ğŸŒŸ';
            } else if (secretClicks === 2) {
                trigger.textContent = 'BÃ¼yÃ¼lÃ¼ Orman v2.0 âœ¨';
            } else if (secretClicks === 3) {
                trigger.textContent = 'BÃ¼yÃ¼lÃ¼ Orman v2.0 ğŸ';
            } else if (secretClicks === 4) {
                trigger.textContent = 'BÃ¼yÃ¼lÃ¼ Orman v2.0 ğŸ®';
            } else if (secretClicks >= 5) {
                trigger.style.display = 'none';
                gameLink.style.display = 'block';
                
                // Confetti effect
                const colors = ['#667eea', '#764ba2', '#ffd89b', '#19547b'];
                for (let i = 0; i < 50; i++) {
                    setTimeout(() => {
                        const confetti = document.createElement('div');
                        confetti.style.position = 'fixed';
                        confetti.style.left = Math.random() * window.innerWidth + 'px';
                        confetti.style.top = '-20px';
                        confetti.style.width = '10px';
                        confetti.style.height = '10px';
                        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        confetti.style.borderRadius = '50%';
                        confetti.style.zIndex = '99999';
                        confetti.style.animation = 'fall 3s linear';
                        document.body.appendChild(confetti);
                        
                        setTimeout(() => confetti.remove(), 3000);
                    }, i * 30);
                }
            }
        }

        // Toast notification gÃ¶ster
        {% if session.last_added_product %}
        document.addEventListener('DOMContentLoaded', function() {
            const toast = document.getElementById('cartToast');
            const productName = document.getElementById('toastProductName');
            const productPrice = document.getElementById('toastProductPrice');

            productName.textContent = '{{ session.last_added_product.isim }}';
            productPrice.textContent = '{{ "%.2f"|format(session.last_added_product.fiyat) }} â‚º';

            toast.classList.add('show');

            setTimeout(function() {
                toast.classList.remove('show');
            }, 4000);
        });
        {% endif %}
    </script>
    
    <style>
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</body>
</html>
